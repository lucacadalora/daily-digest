<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image.social Implementation Guide - Daily Digest</title>
    
    <!-- Basic meta tags -->
    <meta name="description" content="Comprehensive guide on implementing image.social for automated social media preview images">
    
    <!-- Open Graph meta tags -->
    <meta property="og:title" content="Image.social Implementation Guide - Daily Digest">
    <meta property="og:description" content="Comprehensive guide on implementing image.social for automated social media preview images">
    <meta property="og:url" content="https://dailydigest.id/image-social-implementation">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="Daily Digest">
    
    <!-- Image.social integration - this is the key part -->
    <meta property="og:image" content="https://image.social/get?url=dailydigest.id/image-social-implementation">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <!-- Twitter Card tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Image.social Implementation Guide - Daily Digest">
    <meta name="twitter:description" content="Comprehensive guide on implementing image.social for automated social media preview images">
    <meta name="twitter:image" content="https://image.social/get?url=dailydigest.id/image-social-implementation">
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: #1a365d;
        }
        h2 {
            font-size: 1.8rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            color: #2a4365;
        }
        h3 {
            font-size: 1.4rem;
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
            color: #2c5282;
        }
        .container {
            background-color: #f7fafc;
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        .code-block {
            background-color: #edf2f7;
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: monospace;
            overflow-x: auto;
            white-space: pre-wrap;
        }
        .highlight {
            background-color: #ebf8ff;
            padding: 1rem;
            border-left: 4px solid #4299e1;
            margin: 1.5rem 0;
        }
        .warning {
            background-color: #fffaf0;
            padding: 1rem;
            border-left: 4px solid #ed8936;
            margin: 1.5rem 0;
        }
        .preview {
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
            margin: 1.5rem 0;
        }
        .preview img {
            width: 100%;
            height: auto;
            display: block;
        }
        .button {
            display: inline-block;
            background-color: #4299e1;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            text-decoration: none;
            font-weight: 500;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
        }
        .button:hover {
            background-color: #3182ce;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        th, td {
            border: 1px solid #e2e8f0;
            padding: 0.75rem;
            text-align: left;
        }
        th {
            background-color: #f7fafc;
            font-weight: 600;
        }
        tr:nth-child(even) {
            background-color: #f9fafb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Image.social Implementation Guide</h1>
        <p>This guide explains how to implement automatic social media preview images using image.social across all Daily Digest pages.</p>
        
        <div class="highlight">
            <p><strong>Key Benefit:</strong> With image.social, your social media preview images are generated automatically from the actual page content, ensuring they're always relevant and up-to-date.</p>
        </div>
    </div>
    
    <div class="container">
        <h2>Basic Implementation</h2>
        <p>To add image.social integration to any page, add the following meta tags to the <code>&lt;head&gt;</code> section:</p>
        
        <div class="code-block">
&lt;!-- Open Graph image tag for Facebook, LinkedIn, etc. -->
&lt;meta property="og:image" content="https://image.social/get?url=dailydigest.id/your-page-path">
&lt;meta property="og:image:width" content="1200">
&lt;meta property="og:image:height" content="630">

&lt;!-- Twitter Card image tag -->
&lt;meta name="twitter:card" content="summary_large_image">
&lt;meta name="twitter:image" content="https://image.social/get?url=dailydigest.id/your-page-path">
        </div>
        
        <p>Replace <code>/your-page-path</code> with the actual path of your page.</p>
        
        <h3>React Component Implementation</h3>
        <p>For React pages, use the provided <code>GlobalOGImage</code> component:</p>
        
        <div class="code-block">
// In your page component
import GlobalOGImage from '../components/SEO/GlobalOGImage';

export default function YourPage() {
    return (
        &lt;>
            &lt;GlobalOGImage />
            {/* Your page content */}
        &lt;/>
    );
}
        </div>
        
        <h3>Advanced Article Implementation</h3>
        <p>For article pages, use the <code>ArticleSEO</code> component:</p>
        
        <div class="code-block">
// In your article page
import ArticleSEO from '../components/SEO/ArticleSEO';

export default function ArticlePage() {
    return (
        &lt;>
            &lt;ArticleSEO articleSlug="your-article-slug" />
            {/* Article content */}
        &lt;/>
    );
}
        </div>
    </div>
    
    <div class="container">
        <h2>Platform-Specific Considerations</h2>
        
        <h3>Cache Busting for Telegram</h3>
        <p>Telegram aggressively caches preview images. To force an update, add a timestamp parameter:</p>
        
        <div class="code-block">
const timestamp = new Date().getTime();
const imageSocialUrl = `https://image.social/get?url=dailydigest.id/your-path&t=${timestamp}`;
        </div>
        
        <h3>WhatsApp Preview Handling</h3>
        <p>WhatsApp caches images based on the URL. For important updates, slightly change the path or add a version parameter.</p>
        
        <div class="warning">
            <p><strong>Note:</strong> If WhatsApp shows no preview image, wait at least 30 seconds after the first share attempt. Image.social needs time to generate the initial preview image.</p>
        </div>
        
        <h3>Twitter/X Considerations</h3>
        <p>Twitter tends to work best with a 15-minute cache time. For Twitter crawlers, we use:</p>
        
        <div class="code-block">
// Twitter often needs a shorter cache period to refresh properly
res.setHeader('Cache-Control', 'public, max-age=900'); // 15 minutes
        </div>
    </div>
    
    <div class="container">
        <h2>Server-Side Implementation</h2>
        <p>Our Express server includes special handling for social media crawlers with platform-specific cache control headers:</p>
        
        <div class="code-block">
// Detect if request is from a social media crawler
const userAgent = req.headers['user-agent'] || '';
const isSocialCrawler = 
  userAgent.includes('Twitterbot') || 
  userAgent.includes('facebookexternalhit') || 
  userAgent.includes('LinkedInBot') || 
  userAgent.includes('Telegram') || 
  userAgent.includes('WhatsApp');

if (isSocialCrawler) {
  // Generate a timestamp for cache busting
  const timestamp = new Date().getTime();
  const imageSocialUrl = `https://image.social/get?url=dailydigest.id/path&t=${timestamp}`;
  
  // Set appropriate cache control headers based on crawler type
  if (userAgent.includes('Twitterbot')) {
    res.setHeader('Cache-Control', 'public, max-age=900'); // 15 minutes
  } else if (userAgent.includes('Telegram')) {
    res.setHeader('Cache-Control', 'no-cache, max-age=0');
  } else {
    res.setHeader('Cache-Control', 'public, max-age=3600'); // 1 hour
  }
  
  // Return HTML with the necessary meta tags...
}
        </div>
    </div>
    
    <div class="container">
        <h2>Cache Settings Reference</h2>
        <p>Optimal cache settings for different social platforms:</p>
        
        <table>
            <thead>
                <tr>
                    <th>Platform</th>
                    <th>Cache Setting</th>
                    <th>Notes</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Twitter/X</td>
                    <td><code>max-age=900</code> (15 min)</td>
                    <td>Moderate cache to prevent disappearing cards</td>
                </tr>
                <tr>
                    <td>Facebook</td>
                    <td><code>max-age=3600</code> (1 hour)</td>
                    <td>Longer cache is fine; use Facebook Debugger to refresh</td>
                </tr>
                <tr>
                    <td>Telegram</td>
                    <td><code>no-cache, max-age=0</code></td>
                    <td>Aggressive caching requires forced refresh</td>
                </tr>
                <tr>
                    <td>WhatsApp</td>
                    <td><code>max-age=3600</code> (1 hour)</td>
                    <td>May need query parameter for forced refresh</td>
                </tr>
                <tr>
                    <td>LinkedIn</td>
                    <td><code>max-age=3600</code> (1 hour)</td>
                    <td>Use LinkedIn Post Inspector to refresh</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="container">
        <h2>Testing Your Implementation</h2>
        <p>Use these validation tools to verify your image.social implementation:</p>
        
        <a href="https://cards-dev.twitter.com/validator" target="_blank" class="button">Twitter Card Validator</a>
        <a href="https://developers.facebook.com/tools/debug/" target="_blank" class="button">Facebook Debugger</a>
        <a href="https://www.linkedin.com/post-inspector/" target="_blank" class="button">LinkedIn Post Inspector</a>
        
        <h3>Manual Testing Workflow</h3>
        <ol>
            <li>Visit your page to ensure it loads correctly</li>
            <li>Share the URL on Twitter, Facebook, or other platforms</li>
            <li>Check if the preview shows the correct image</li>
            <li>If the image doesn't appear, wait 30 seconds and try again (first-time generation takes longer)</li>
            <li>For persistent issues, add <code>&amp;t=[timestamp]</code> to the image.social URL</li>
        </ol>
        
        <div class="highlight">
            <p><strong>Tip:</strong> Use our dedicated <a href="/social-image-test">Social Image Test</a> page to test the implementation in a controlled environment.</p>
        </div>
    </div>
    
    <div class="container">
        <a href="/" class="button">Return to Home</a>
        <a href="/social-image-test" class="button">View Test Page</a>
    </div>
</body>
</html>